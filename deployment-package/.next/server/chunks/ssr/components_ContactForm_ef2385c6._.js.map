{"version":3,"sources":["turbopack:///[project]/components/ContactForm/contact.module.css [app-ssr] (css module)","../../../../components/ContactForm/ContactForm.tsx"],"sourcesContent":["__turbopack_context__.v({\n  \"contactForm\": \"contact-module__bQNI9a__contactForm\",\n  \"contactFormButton\": \"contact-module__bQNI9a__contactFormButton\",\n  \"contactFormContainer\": \"contact-module__bQNI9a__contactFormContainer\",\n  \"contactFormGroup\": \"contact-module__bQNI9a__contactFormGroup\",\n  \"contactFormInput\": \"contact-module__bQNI9a__contactFormInput\",\n  \"contactTextarea\": \"contact-module__bQNI9a__contactTextarea\",\n  \"fadeIn\": \"contact-module__bQNI9a__fadeIn\",\n  \"fadeInUp\": \"contact-module__bQNI9a__fadeInUp\",\n  \"statusMessageError\": \"contact-module__bQNI9a__statusMessageError\",\n  \"statusMessageSuccess\": \"contact-module__bQNI9a__statusMessageSuccess\",\n});\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport styles from \"./contact.module.css\";\n\nexport default function ContactForm() {\n  // Initialisation du router pour la navigation\n  const router = useRouter();\n\n  // États pour gérer le formulaire\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [subject, setSubject] = useState(\"Demande de contact\");\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [status, setStatus] = useState<{\n    type: \"success\" | \"error\";\n    message: string;\n  } | null>(null);\n\n  // Fonction pour gérer la soumission du formulaire\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setLoading(true);\n    setStatus(null);\n\n    try {\n      // Appel à l'API route pour envoyer l'email\n      const response = await fetch(\"/api/contact\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ name, email, subject, message }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Erreur lors de l'envoi de l'email\");\n      }\n\n      // Succès : réinitialiser le formulaire et afficher un message et ajout d'un settimeout pour rediriger vers la page d'accueil après 3 secondes\n      setStatus({\n        type: \"success\",\n        message:\n          \"Merci de nous avoir contacté ! Nous vous répondrons dans les 24 heures.\",\n      });\n      setTimeout(() => {\n        // redirection vers la page d'accueil\n        router.push(\"/\");\n      }, 3000);\n      // réinitialisation du formulaire\n      setName(\"\");\n      setEmail(\"\");\n      setSubject(\"Demande de contact\"); // réinitialisation du sujet par défaut\n      setMessage(\"\"); // réinitialisation du message\n    } catch (error) {\n      // Erreur : afficher un message d'erreur\n      setStatus({\n        type: \"error\",\n        message:\n          error instanceof Error\n            ? error.message\n            : \"Une erreur est survenue. Veuillez réessayer.\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className={styles.contactFormContainer}>\n      <form className={styles.contactForm} onSubmit={handleSubmit}>\n        <div className={styles.contactFormGroup}>\n          <label htmlFor=\"name\">Nom</label>\n          <input\n            type=\"text\"\n            id=\"name\"\n            name=\"name\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            className={styles.contactFormInput}\n            required\n            disabled={loading}\n          />\n        </div>\n        <div className={styles.contactFormGroup}>\n          <label htmlFor=\"email\">Email</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            className={styles.contactFormInput}\n            required\n            disabled={loading}\n          />\n        </div>\n        <div className={styles.contactFormGroup}>\n          <label htmlFor=\"subject\">Sujet</label>\n          <select\n            id=\"subject\"\n            name=\"subject\"\n            value={subject}\n            onChange={(e) => setSubject(e.target.value)}\n            className={styles.contactFormInput}\n            disabled={loading}\n          >\n            <option value=\"Demande de contact\">Demande de contact</option>\n            <option value=\"Demande de collaboration\">\n              Demande de collaboration\n            </option>\n            <option value=\"Demande de concert\">Demande de concert</option>\n            <option value=\"Demande de presse\">Demande de presse</option>\n            <option value=\"Demande de formation\">Demande de formation</option>\n            <option value=\"Autre\">Autre</option>\n          </select>\n        </div>\n        <div className={styles.contactFormGroup}>\n          <label htmlFor=\"message\">Message</label>\n          <textarea\n            id=\"message\"\n            name=\"message\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            className={styles.contactTextarea}\n            required\n            disabled={loading}\n          />\n        </div>\n        <button\n          type=\"submit\"\n          className={styles.contactFormButton}\n          disabled={loading}\n        >\n          {loading ? \"Envoi en cours...\" : \"Envoyer\"}\n        </button>\n        {status && (\n          <div\n            className={\n              status.type === \"success\"\n                ? styles.statusMessageSuccess\n                : styles.statusMessageError\n            }\n          >\n            {status.message}\n          </div>\n        )}\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}