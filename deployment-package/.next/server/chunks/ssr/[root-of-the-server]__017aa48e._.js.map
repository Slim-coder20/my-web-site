{"version":3,"sources":["../../../../lib/prisma.ts","turbopack:///[project]/app/concerts/concerts.module.css [app-rsc] (css module)","../../../../components/ConcertCard/ConcertCard.tsx/__nextjs-internal-proxy.mjs","../../../../app/concerts/page.tsx"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined;\n};\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({\n    log: process.env.NODE_ENV === \"development\" ? [\"query\", \"error\", \"warn\"] : [\"error\"],\n  });\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n\n","__turbopack_context__.v({\n  \"concertsContainer\": \"concerts-module__b6NuIG__concertsContainer\",\n  \"concertsDescription\": \"concerts-module__b6NuIG__concertsDescription\",\n  \"concertsGrid\": \"concerts-module__b6NuIG__concertsGrid\",\n  \"concertsSection\": \"concerts-module__b6NuIG__concertsSection\",\n  \"concertsTitle\": \"concerts-module__b6NuIG__concertsTitle\",\n  \"emptyState\": \"concerts-module__b6NuIG__emptyState\",\n});\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/ConcertCard/ConcertCard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ConcertCard/ConcertCard.tsx\",\n    \"default\",\n);\n","import styles from \"./concerts.module.css\";\nimport ConcertCard from \"@/components/ConcertCard/ConcertCard\";\nimport { prisma } from \"@/lib/prisma\";\n\n// Récupération des concerts depuis la base de données\nasync function getConcerts() {\n  try {\n    const concerts = await prisma.concert.findMany({\n      select: {\n        id: true,\n        title: true,\n        date: true,\n        location: true,\n        imageUrl: true,\n        imageAlt: true,\n      },\n      orderBy: {\n        date: \"desc\", // Tri par date décroissante (les plus récents en premier)\n      },\n    });\n    return concerts;\n  } catch (error) {\n    console.error(\"Error fetching concerts:\", error);\n    return [];\n  }\n}\n\n// Fonction pour formater la date en français\nfunction formatDate(date: Date): string {\n  return new Intl.DateTimeFormat(\"fr-FR\", {\n    day: \"numeric\",\n    month: \"long\",\n    year: \"numeric\",\n  }).format(date);\n}\n\n// Page des concerts (Server Component)\nexport default async function Concerts() {\n  const concerts = await getConcerts();\n\n  return (\n    <div className={styles.concertsContainer}>\n      <section className={styles.concertsSection}>\n        <h1 className={styles.concertsTitle}>Les concerts de Slim Abida</h1>\n        <p className={styles.concertsDescription}>\n          Tous les Concerts de Slim Abida\n        </p>\n        {concerts.length === 0 ? (\n          <div className={styles.emptyState}>\n            <p>Aucun concert disponible pour le moment.</p>\n          </div>\n        ) : (\n          <div className={styles.concertsGrid}>\n            {concerts.map(\n              (concert: {\n                id: number;\n                title: string;\n                date: Date;\n                location: string;\n                imageUrl: string | null;\n                imageAlt: string | null;\n              }) => (\n                <ConcertCard\n                  key={concert.id}\n                  title={concert.title}\n                  date={formatDate(concert.date)}\n                  location={concert.location}\n                  imageUrl={concert.imageUrl || \"/images/placeholder.jpg\"}\n                  imageAlt={concert.imageAlt || concert.title}\n                />\n              )\n            )}\n          </div>\n        )}\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":"oZAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAMO,IAAM,EAJW,AAKtB,WAAgB,MAAM,EACtB,IAAI,EAAA,YAAY,CAAC,CACf,IAA2E,CAAtE,AAAuE,QAAQ,AACtF,8BADgD,ICTlD,EAAA,CAAA,CAAA,CACA,kBAAA,6CACA,oBAAA,+CACA,aAAA,wCACA,gBAAA,2CACA,cAAA,yCACA,WAAA,qCACA,iCCLe,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,wSAA0S,EACvU,uEACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,oRAAsR,EACnT,mDACA,mICLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAGA,eAAe,IACb,GAAI,CAcF,OAbiB,AAaV,MAbgB,EAAA,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAC7C,OAAQ,CACN,IAAI,EACJ,OAAO,EACP,MAAM,EACN,UAAU,EACV,UAAU,EACV,SAAU,EACZ,EACA,QAAS,CACP,KAAM,MACR,CACF,EAEF,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,2BAA4B,GACnC,EAAE,AACX,CACF,CAYe,eAAe,IAC5B,IAAM,EAAW,MAAM,IAEvB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,iBAAiB,UACtC,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAW,EAAA,OAAM,CAAC,eAAe,WACxC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAW,EAAA,OAAM,CAAC,aAAa,UAAE,+BACrC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,mBAAmB,UAAE,oCAGrB,IAApB,EAAS,MAAM,CACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,UAAU,UAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,+CAGL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,YAAY,UAChC,EAAS,GAAG,CACX,AAAC,gBAQC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAW,CAAA,CAEV,MAAO,EAAQ,KAAK,CACpB,IAAA,EArCE,AAqCI,EAAW,EArCL,AAqCa,IAAI,CApCtC,IAAI,KAAK,cAAc,CAAC,QAAS,CACtC,IAAK,UACL,MAAO,OACP,KAAM,SACR,GAAG,MAAM,CAAC,IAiCM,SAAU,EAAQ,QAAQ,CAC1B,SAAU,EAAQ,QAAQ,EAAI,0BAC9B,SAAU,EAAQ,QAAQ,EAAI,EAAQ,KAAK,EALtC,EAAQ,EAAE,UAcjC","ignoreList":[2]}