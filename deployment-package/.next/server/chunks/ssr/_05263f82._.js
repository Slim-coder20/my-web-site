module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},34050,a=>{a.v({cancelButton:"CheckoutForm-module__ymEITq__cancelButton",checkoutForm:"CheckoutForm-module__ymEITq__checkoutForm",errorMessage:"CheckoutForm-module__ymEITq__errorMessage",formActions:"CheckoutForm-module__ymEITq__formActions",formGroup:"CheckoutForm-module__ymEITq__formGroup",helpText:"CheckoutForm-module__ymEITq__helpText",input:"CheckoutForm-module__ymEITq__input",label:"CheckoutForm-module__ymEITq__label",submitButton:"CheckoutForm-module__ymEITq__submitButton"})},98872,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(34050);function f({productId:a}){let[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null),l=(0,d.useRouter)(),m=async b=>{if(b.preventDefault(),i(!0),k(null),!f||!f.includes("@")){k("Veuillez entrer une adresse email valide"),i(!1);return}try{let b=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:a,email:f})}),c=await b.json();if(!b.ok)throw Error(c.error||"Erreur lors de la création de la commande");if(c.url)window.location.href=c.url;else throw Error("URL de checkout non disponible")}catch(a){console.error("Checkout error:",a),k(a instanceof Error?a.message:"Une erreur est survenue"),i(!1)}};return(0,b.jsxs)("form",{onSubmit:m,className:e.default.checkoutForm,children:[(0,b.jsxs)("div",{className:e.default.formGroup,children:[(0,b.jsx)("label",{htmlFor:"email",className:e.default.label,children:"Adresse email *"}),(0,b.jsx)("input",{type:"email",id:"email",name:"email",value:f,onChange:a=>g(a.target.value),className:e.default.input,placeholder:"votre.email@exemple.com",required:!0,disabled:h}),(0,b.jsx)("p",{className:e.default.helpText,children:"Vous recevrez la confirmation de commande à cette adresse"})]}),j&&(0,b.jsx)("div",{className:e.default.errorMessage,children:j}),(0,b.jsxs)("div",{className:e.default.formActions,children:[(0,b.jsx)("button",{type:"button",onClick:()=>l.back(),className:e.default.cancelButton,disabled:h,children:"Retour"}),(0,b.jsx)("button",{type:"submit",className:e.default.submitButton,disabled:h||!f,children:h?"Traitement...":"Procéder au paiement"})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=_05263f82._.js.map