module.exports=[63859,a=>{a.v({contactForm:"contact-module__bQNI9a__contactForm",contactFormButton:"contact-module__bQNI9a__contactFormButton",contactFormContainer:"contact-module__bQNI9a__contactFormContainer",contactFormGroup:"contact-module__bQNI9a__contactFormGroup",contactFormInput:"contact-module__bQNI9a__contactFormInput",contactTextarea:"contact-module__bQNI9a__contactTextarea",fadeIn:"contact-module__bQNI9a__fadeIn",fadeInUp:"contact-module__bQNI9a__fadeInUp",statusMessageError:"contact-module__bQNI9a__statusMessageError",statusMessageSuccess:"contact-module__bQNI9a__statusMessageSuccess"})},30206,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(63859);function f(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)("Demande de contact"),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),r=async b=>{b.preventDefault(),o(!0),q(null);try{let b=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:f,email:h,subject:j,message:l})}),c=await b.json();if(!b.ok)throw Error(c.error||"Erreur lors de l'envoi de l'email");q({type:"success",message:"Merci de nous avoir contacté ! Nous vous répondrons dans les 24 heures."}),setTimeout(()=>{a.push("/")},3e3),g(""),i(""),k("Demande de contact"),m("")}catch(a){q({type:"error",message:a instanceof Error?a.message:"Une erreur est survenue. Veuillez réessayer."})}finally{o(!1)}};return(0,b.jsx)("div",{className:e.default.contactFormContainer,children:(0,b.jsxs)("form",{className:e.default.contactForm,onSubmit:r,children:[(0,b.jsxs)("div",{className:e.default.contactFormGroup,children:[(0,b.jsx)("label",{htmlFor:"name",children:"Nom"}),(0,b.jsx)("input",{type:"text",id:"name",name:"name",value:f,onChange:a=>g(a.target.value),className:e.default.contactFormInput,required:!0,disabled:n})]}),(0,b.jsxs)("div",{className:e.default.contactFormGroup,children:[(0,b.jsx)("label",{htmlFor:"email",children:"Email"}),(0,b.jsx)("input",{type:"email",id:"email",name:"email",value:h,onChange:a=>i(a.target.value),className:e.default.contactFormInput,required:!0,disabled:n})]}),(0,b.jsxs)("div",{className:e.default.contactFormGroup,children:[(0,b.jsx)("label",{htmlFor:"subject",children:"Sujet"}),(0,b.jsxs)("select",{id:"subject",name:"subject",value:j,onChange:a=>k(a.target.value),className:e.default.contactFormInput,disabled:n,children:[(0,b.jsx)("option",{value:"Demande de contact",children:"Demande de contact"}),(0,b.jsx)("option",{value:"Demande de collaboration",children:"Demande de collaboration"}),(0,b.jsx)("option",{value:"Demande de concert",children:"Demande de concert"}),(0,b.jsx)("option",{value:"Demande de presse",children:"Demande de presse"}),(0,b.jsx)("option",{value:"Demande de formation",children:"Demande de formation"}),(0,b.jsx)("option",{value:"Autre",children:"Autre"})]})]}),(0,b.jsxs)("div",{className:e.default.contactFormGroup,children:[(0,b.jsx)("label",{htmlFor:"message",children:"Message"}),(0,b.jsx)("textarea",{id:"message",name:"message",value:l,onChange:a=>m(a.target.value),className:e.default.contactTextarea,required:!0,disabled:n})]}),(0,b.jsx)("button",{type:"submit",className:e.default.contactFormButton,disabled:n,children:n?"Envoi en cours...":"Envoyer"}),p&&(0,b.jsx)("div",{className:"success"===p.type?e.default.statusMessageSuccess:e.default.statusMessageError,children:p.message})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=components_ContactForm_ef2385c6._.js.map